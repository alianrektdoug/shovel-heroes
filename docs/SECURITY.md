# 鏟子英雄｜安全政策（Security Policy）

本專案旨在支援花蓮等救災現場的資訊協作。請所有貢獻者與使用者務必遵循以下安全與隱私原則，以降低對民眾、志工與系統的風險。

## 範圍（Scope）
- 前端：Vite + React SPA（本倉庫）
- 後端／BFF（未來規劃）：提供任務、通報、志工報到、物資點等 API
- 資料：志工基本資料、聯絡方式、即時定位（如有）、任務內容與狀態、物資庫存與地點等

## 資料分級（Data Classification）
- **機敏個資（Highly Sensitive PII）**：電話、Email、GPS 精確座標、身分證影本（若有）
- **一般個資（PII）**：姓名、鄉鎮區、技能標籤
- **非個資**：匿名統計、公開公告資訊
> 原則：僅蒐集任務所需最小必要資料（data minimization），預設最短保留、明確告知用途與保存期。

## 威脅情境（Threats）
- 濫用／灌報（大規模機器人重複提交、惡意洗單）
- 資料外洩（含 Git 泄漏金鑰、前端打包秘鑰）
- 偽報點位（錯誤坐標／釣魚連結）
- 常見 Web 漏洞：XSS、CSRF、IDOR、弱認證、錯誤處理洩漏

## 最低安全基線（Minimum Security Baseline）
- **輸入驗證**：所有表單字段做型別與長度驗證；URL、座標與電話採白名單格式與正規表示式。
- **認證／授權（如後端啟用）**：Bearer Token/OIDC；所有修改與查詢操作皆做資源層授權檢查（避免 IDOR）。
- **錯誤處理**：對外錯誤訊息不含堆疊與內部細節；統一以追蹤 ID 連結伺服端日誌。
- **日誌與稽核**：存取、失敗操作（含 401/403/429）與管理動作均記錄；避免記錄純文本敏感資訊。
- **通訊安全**：一律 HTTPS；設定 HSTS、正確的 CORS（來源白名單、限制方法與憑證）。
- **前端防濫用**：啟用 **人機驗證（Turnstile）** 或等效機制於高風險表單（志工報名、通報、回報）。
- **率限制與冪等**：伺服端對敏感端點實作頻率限制；要求用戶端在 POST 提交提供 `Idempotency-Key` 以避免重複提交。
- **Secrets 管理**：金鑰僅放 `.env`（不入版控）；使用 GitHub Environments/Actions Secrets；定期輪替。
- **依賴安全**：啟用 GitHub Dependabot 與安全警示；每週審視高風險 CVE。
- **第三方地圖／外掛**：僅允許必要來源，使用 SRI/版本鎖定，避免動態注入 HTML。

## 漏洞通報（Vulnerability Disclosure）
- 請優先使用 GitHub 的 **Security Advisories** 私下回報（若有權限），或寄信至 **shovel-heroes@noreply.github.com**。
- 我們承諾：
  - **72 小時內**回覆初步受理。
  - **7–30 天**內提供修補或緩解計畫（依嚴重度）。
  - 採「協調式揭露」（Coordinated Disclosure）；雙方同意後公開詳情與致謝。
- 建議同時在網站根目錄布署 `/.well-known/security.txt` 指引外部研究員正確回報（依 RFC 9116）。

## 法規與準則
- 依台灣《個人資料保護法（PDPA）》與相關子法辦理（僅蒐集業務所需、告知義務、資料主體權利）。
- 研發參考 **OWASP ASVS** 與 **OWASP API/REST Cheat Sheets** 作為安全開發基準。

## 回報格式建議
請包含：影響範圍、重現步驟（POC）、建議修補方向、是否涉及個資、是否可被自動化濫用。若涉及機敏資料，請使用加密附件並事先索取公鑰。
